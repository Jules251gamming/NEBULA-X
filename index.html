<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>NEBULA-X | OS INTERFACE</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;700&display=swap');
        body { margin: 0; background-color: #050505; color: #00ffcc; font-family: 'Fira Code', monospace; overflow: hidden; }
        #vanta-bg { position: fixed; width: 100%; height: 100%; z-index: -1; }
        .cyber-panel { background: rgba(0, 5, 5, 0.85); border: 1px solid rgba(0, 255, 204, 0.2); backdrop-filter: blur(10px); }
        .nav-btn { cursor: pointer; transition: 0.3s; border-bottom: 2px solid transparent; padding-bottom: 4px; }
        .nav-btn:hover, .nav-btn.active { border-color: #00ffcc; color: white; text-shadow: 0 0 10px #00ffcc; }
        .page { display: none; animation: fadeIn 0.4s ease-out; }
        .page.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .glitch { text-shadow: 2px 0 #ff003c, -2px 0 #00ffcc; animation: glitch 3s infinite; }
    </style>
</head>
<body>
    <div id="vanta-bg"></div>

    <nav class="fixed top-0 w-full z-50 py-6 px-10 flex justify-between items-center border-b border-white/5 bg-black/60">
        <div class="font-black text-xl tracking-tighter glitch">NEBULA<span class="text-white">-X</span></div>
        <div class="flex gap-8 text-[10px] tracking-[0.2em] uppercase">
            <span class="nav-btn active" onclick="showPage('home', this)">Dashboard</span>
            <span class="nav-btn" onclick="showPage('tools', this)">Tools</span>
            <span class="nav-btn" onclick="showPage('security', this)">Security</span>
        </div>
        <div class="text-[9px] opacity-40">ID: xypcmmlwgzsytedvmemb</div>
    </nav>

    <main class="h-screen flex items-center justify-center px-6">
        
        <section id="home" class="page active w-full max-w-6xl">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div class="cyber-panel p-8 col-span-2 border-l-4 border-cyan-500">
                    <h1 class="text-5xl font-black mb-4 tracking-tighter">CORE_DASHBOARD</h1>
                    <p class="text-gray-400 text-sm mb-8">Interface de contrôle Nebula-X Elite. Monitoring des ressources et synchronisation du réseau de proxies.</p>
                    
                    <div class="bg-cyan-500/5 p-6 border border-cyan-500/20">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="text-[10px] text-cyan-500 uppercase tracking-widest mb-1">Live Proxy Network</div>
                                <div class="text-5xl font-bold text-white tracking-tighter" id="proxy-count">00,000</div>
                            </div>
                            <div class="text-right">
                                <span class="relative flex h-3 w-3 ml-auto">
                                    <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-cyan-400 opacity-75"></span>
                                    <span class="relative inline-flex rounded-full h-3 w-3 bg-cyan-500"></span>
                                </span>
                                <div class="text-[8px] text-cyan-700 mt-2">SYNCING_WITH_GO_TOOL</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="cyber-panel p-6">
                    <div class="text-[10px] mb-4 text-cyan-400 font-bold border-b border-cyan-900 pb-2">SYSTEM_LOGS</div>
                    <div id="logs" class="text-[9px] space-y-2 text-gray-500 h-48 overflow-hidden"></div>
                </div>
            </div>
        </section>

        <section id="tools" class="page w-full max-w-6xl">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="cyber-panel p-8">
                    <h3 class="text-xl font-bold text-cyan-400 mb-2">Vortex_Scanner</h3>
                    <p class="text-xs text-gray-400">Analyse récursive des ports et détection de services vulnérables sur les cibles IPv4/IPv6.</p>
                </div>
                <div class="cyber-panel p-8">
                    <h3 class="text-xl font-bold text-cyan-400 mb-2">IP_Ghost_Engine</h3>
                    <p class="text-xs text-gray-400">Rotation automatique de 38,000+ proxies avec masquage d'en-tête HTTP/HTTPS.</p>
                </div>
            </div>
        </section>

        <section id="security" class="page w-full max-w-4xl">
            <div class="cyber-panel p-12 text-center border-t-4 border-red-600">
                <h2 class="text-3xl font-bold mb-4 text-red-500 tracking-tighter">PROTOCOLE_DE_SÉCURITÉ</h2>
                <p class="text-gray-400 text-sm mb-6">Toutes les transmissions sont cryptées en AES-256. L'accès aux outils nécessite une clé d'API valide générée via le tool Nebula-X Elite.</p>
                <div class="text-[9px] tracking-widest p-2 bg-red-900/10 text-red-700 border border-red-900/30">ENCRYPTION_ACTIVE : ON</div>
            </div>
        </section>

    </main>

    <script>
        // CONFIGURATION SUPABASE
        const SUPABASE_URL = "https://xypcmmlwgzsytedvmemb.supabase.co";
        const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh5cGNtbWx3Z3pzeXRlZHZtZW1iIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc1NDMyNTMsImV4cCI6MjA4MzExOTI1M30.EKhPeSX4y1mTG48lM9G7PylP3TwhaqBH5KsZe3hcvrQ"; // COLLE LA CLE TRÈS LONGUE ICI

        // Navigation
        function showPage(pageId, btn) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            btn.classList.add('active');
        }

        // Fetch des proxies depuis Supabase
        async function fetchProxies() {
            try {
                const response = await fetch(`${SUPABASE_URL}/rest/v1/stats?name=eq.proxies`, {
                    headers: {
                        'apikey': SUPABASE_KEY,
                        'Authorization': `Bearer ${SUPABASE_KEY}`
                    }
                });
                const data = await response.json();
                if (data.length > 0) {
                    document.getElementById('proxy-count').innerText = data[0].value.toLocaleString();
                }
            } catch (e) { console.log("Sync Error"); }
        }

        // Animation 3D (Vanta Net)
        VANTA.NET({
            el: "#vanta-bg",
            mouseControls: true,
            touchControls: true,
            minHeight: 200.00,
            minWidth: 200.00,
            scale: 1.00,
            color: 0x00ffcc,
            backgroundColor: 0x050505,
            points: 12.00,
            maxDistance: 20.00,
            spacing: 15.00
        });

        // Logs automatiques
        const logs = ["Syncing with database...", "Checking nodes...", "Vortex Ready", "Proxy buffer updated"];
        setInterval(() => {
            const l = document.getElementById('logs');
            const d = document.createElement('div');
            d.innerHTML = `> ${logs[Math.floor(Math.random()*logs.length)]}`;
            l.prepend(d);
            if(l.childNodes.length > 10) l.removeChild(l.lastChild);
        }, 4000);

        // Update toutes les 5 sec
        setInterval(fetchProxies, 5000);
        fetchProxies();
    </script>
</body>
</html>

